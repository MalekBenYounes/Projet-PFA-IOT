<form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()">
  <h2>S'inscrire</h2>
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired>Nom d'utilisateur</nz-form-label>
    <nz-form-control [nzSpan]="12" nzHasFeedback nzValidatingTip="Validation.." [nzErrorTip]="userErrorTpl">
      <input nz-input formControlName="userName" placeholder="Nom d'utilisateur" />
      <ng-template #userErrorTpl let-control>
        <ng-container *ngIf="control.hasError('required')">Veuillez saisir votre nom d'utilisateur !</ng-container>
        <ng-container *ngIf="control.hasError('nameExist')">Le nom d'utilisateur est deja utilisé !</ng-container>
      </ng-template>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired nzFor="name">Nom</nz-form-label>
    <nz-form-control [nzSpan]="12" nzErrorTip="Veuillez saisir votre nom">
      <input type="text" nz-input formControlName="name" placeholder="Veuillez saisir votre nom" />
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired nzFor="lastname">Prénom</nz-form-label>
    <nz-form-control [nzSpan]="12" nzErrorTip="Veuillez saisir votre prénom">
      <input type="text" nz-input formControlName="lastname" placeholder="Veuillez saisir votre prénom" />
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired>E-mail</nz-form-label>
    <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="emailErrorTpl">
      <input nz-input formControlName="email" placeholder="email" type="email" />
      <ng-template #emailErrorTpl let-control>
        <ng-container *ngIf="control.hasError('email')">L'e-mail n'est pas valide !</ng-container>
        <ng-container *ngIf="control.hasError('required')">Veuillez saisir votre e-mail !</ng-container>
        <ng-container *ngIf="control.hasError('mailExist')"
        >l'e-mail' est déja utilisé</ng-container>
      </ng-template>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired>Mot de passe</nz-form-label>
    <nz-form-control [nzSpan]="12" nzHasFeedback nzErrorTip="Veuillez saisir votre mot de passe!">
      <input nz-input type="password" formControlName="password" (ngModelChange)="validateConfirmPassword()" placeholder="Mot de passe" />
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired>Confirmer mot de passe</nz-form-label>
    <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="passwordErrorTpl">
      <input nz-input type="password" formControlName="confirm" placeholder="Confirmer votre mot de passe" />
      <ng-template #passwordErrorTpl let-control>
        <ng-container *ngIf="control.hasError('required')">Veuillez confirmer votre mot de passe !</ng-container>
        <ng-container *ngIf="control.hasError('confirm')">Les mots de passes ne sont pas identiques</ng-container>
      </ng-template>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-control [nzOffset]="7" [nzSpan]="12">
      <button nz-button nzType="primary" [disabled]="!validateForm.valid">S'inscrire</button>
      <button nz-button (click)="resetForm($event)">Réinitialiser</button>
    </nz-form-control>
  </nz-form-item>
  <a (click)="goToPage('')">Se connecter</a>
</form>
